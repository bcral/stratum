{
    "doc": [
        "What this test does:",
            "1) launch SRI pool and wait for initialization",
            "2) launch the pool with llvm-cov arguments(no report - see cargo-llvm-cov for options)",
            "3) launch the translator with llvm-cov arguments(no report - see cargo-llvm-cov for options)",
            "4) launch the cpuminer without llvm-cov arguments",
            "5) set cleanup_commands to generate report with what to ignore and where to output the report(see cargo-llvm-cov for options)"
    ],
    "common_messages": [
    ],
    "mining_messages": [
    ],
    "frame_builders": [
    ],
    "actions": [
    ],
    "setup_commands": [
        {
            "command": "cargo",
            "args": [
                        "+stable-x86_64-unknown-linux-gnu",
                        "llvm-cov",
                        "--no-report",
                        "run",
                        "-p",
                        "pool",
                        "--",
                        "-c",
                        "./test/config/pool-config-sri-tp.toml"
            ],
            "conditions": {
                "WithConditions": {
                    "conditions": [
                        {
                            "output_string": "Listening for encrypted connection on: 0.0.0.0:34254",
                            "output_location": "StdOut",
                            "condition": true
                        }
                    ],
                    "timer_secs": 60,
                    "warn_no_panic": false
                }
            }
        },
        {
            "command": "cargo",
            "args": [
                        "+stable-x86_64-unknown-linux-gnu",
                        "llvm-cov",
                        "--no-report",
                        "run",
                        "-p",
                        "translator",
                        "--",
                        "-c",
                        "./roles/translator/proxy-config.toml"
            ],
            "conditions": {
                "WithConditions": {
                    "conditions": [
                        {
                            "output_string": "Connected to Upstream!",
                            "output_location": "StdOut",
                            "condition": true
                        }
                    ],
                    "timer_secs": 60,
                    "warn_no_panic": false
                }
            }
        },
        {
            "command": "/home/brent/code/bitcoin_stuff/cpuminer/minerd",
            "args": [
                        "-o",
                        "stratum+tcp://localhost:34255",
                        "-t",
                        "3",
                        "-q",
                        "-D",
                        "-P",
                        "-a",
                        "sha256d",
                        "-R",
                        "10"
            ],
            "conditions": {
                "WithConditions": {
                    "conditions": [
                        {
                            "output_string": "accepted: 1/1 ",
                            "output_location": "StdErr",
                            "condition": true
                        }
                    ],
                    "timer_secs": 600,
                    "warn_no_panic": false
                }
            }
        }
    ],
    "execution_commands": [
    ],
    "cleanup_commands": [
        {
            "command": "cargo",
            "args": [
                    "+stable-x86_64-unknown-linux-gnu",
                    "llvm-cov",
                    "--ignore-filename-regex",
                    "utils/|experimental/|protocols/",
                    "--text",
                    "--output-path",
                    "target/tmp/pool_translator_coverage.txt",
                    "report"
            ],
            "conditions": {
                "WithConditions": {
                    "conditions": [
                        {
                            "output_string": "Finished report saved to ",
                            "output_location": "StdErr",
                            "condition": true
                        }
                    ],
                    "timer_secs": 60,
                    "warn_no_panic": false
                }
            }
        }
    ],
    "role": "client",
    "downstream": {
        "ip": "0.0.0.0",
        "port": 34254,
        "pub_key": "2di19GHYQnAZJmEpoUeP7C3Eg9TCcksHr23rZCC83dvUiZgiDL"
    }
}